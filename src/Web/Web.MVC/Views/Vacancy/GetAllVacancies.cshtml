@using Web.MVC.Constants.Vacancy
@model List<Web.MVC.Models.ApiResponses.Vacancy.VacancyResponse>

@foreach (var vacancy in Model)
{
    <a asp-controller="Vacancy" asp-action="GetVacancy">
        <div>
            <h4>@vacancy.Position</h4>
            <div>
                @if (vacancy.SalaryFrom is not null && vacancy.SalaryTo is not null)
                {
                    <p>@vacancy.SalaryFrom - @vacancy.SalaryTo ₽ за месяц</p>
                }
                @if (vacancy.SalaryFrom is not null && vacancy.SalaryTo is null)
                {
                    <p>от @vacancy.SalaryFrom ₽ за месяц</p>
                }
                @if (vacancy.SalaryFrom is null && vacancy.SalaryTo is not null)
                {
                    <p>до @vacancy.SalaryTo ₽ за месяц</p>
                }


                @if (vacancy.WorkExperience == WorkExperienceConstants.NoExperience)
                {
                    <p>Без опыта</p>
                }
                @if (vacancy.WorkExperience == WorkExperienceConstants.LessThanOneYear)
                {
                    <p>Опыт менее года</p>
                }
                @if (vacancy.WorkExperience == WorkExperienceConstants.FromOneToThreeYears)
                {
                    <p>Опыт 1-3 года</p>
                }
                @if (vacancy.WorkExperience == WorkExperienceConstants.FromThreeToSixYears)
                {
                    <p>Опыт 3-6 лет</p>
                }
                @if (vacancy.WorkExperience == WorkExperienceConstants.MoreThanSixYears)
                {
                    <p>Опыт более 6 лет</p>
                }
                

                @if (vacancy.RemoteWork)
                {
                    <p>Можно удаленно</p>
                }
            </div>
            <p>@vacancy.CompanyName</p>
            <p>@vacancy.VacancyCity</p>
        </div>
    </a>
}

<div>
    @if (Model.Count > 0)
    {
        @if (ViewBag.CurrentPageNumber - 1 > 0)
        {
            <a class="" asp-controller="Vacancy" asp-action="GetAllVacancies" asp-route-index="@(ViewBag.CurrentPageNumber - 1)">
                Назад
            </a>
        }
        else
        {
            <a class="">Назад</a>
        }

        @if (ViewBag.DoesNextPageExist)
        {
            <a class="" asp-controller="Vacancy" asp-action="GetAllVacancies" asp-route-index="@(ViewBag.CurrentPageNumber + 1)">
                Вперед
            </a>
        }
        else
        {
            <a class="">Вперед</a>
        }
    }
</div>