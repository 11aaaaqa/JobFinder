@using Web.MVC.Constants.Vacancy
@model Web.MVC.Models.ApiResponses.Vacancy.VacancyResponse
<link rel="stylesheet" href="~/css/vacancy/get-vacancy.css"/>

<div class="get-vacancy-page-block">
    <div class="vacancy-additional-info-block">
        <div class="short-vacancy-info mb-2">
            <h3>@Model.Position</h3>

            @if (Model.SalaryFrom is not null && Model.SalaryTo is not null)
            {
                @if (Model.SalaryTo == Model.SalaryFrom)
                {
                    <p class="salary format-number">@Model.SalaryFrom ₽ за месяц</p>
                }
                else
                {
                    <p class="salary format-number">@Model.SalaryFrom - @Model.SalaryTo ₽ за месяц</p>
                }
            }
            @if (Model.SalaryFrom is not null && Model.SalaryTo is null)
            {
                <p class="salary format-number">от @Model.SalaryFrom ₽ за месяц</p>
            }
            @if (Model.SalaryFrom is null && Model.SalaryTo is not null)
            {
                <p class="salary format-number">до @Model.SalaryTo ₽ за месяц</p>
            }
            @if (Model.SalaryTo is null && Model.SalaryFrom is null)
            {
                <p class="salary">Уровень дохода не указан</p>
            }

            @if (Model.WorkExperience is not null)
            {
                @if (Model.WorkExperience == WorkExperienceConstants.NoExperience)
                {
                    <p>@Model.WorkExperience</p>
                }
                else
                {
                    <p>Опыт @Model.WorkExperience.ToLower()</p>
                }
            }

            <p>@Model.EmploymentType</p>

            @if (Model.RemoteWork)
            {
                <p>Формат работы: в офисе или удаленно</p>
            }
            else
            {
                <p>Формат работы: офис</p>
            }
            @* кнопки откликнуться и добавить в избранное *@
        </div>

        <div class="vacancy-company-info">
            <h5>@Model.CompanyName</h5>
            @* рейтинг и переход к отзывам *@
        </div>
    </div>

    <div>
        <p>@Html.Raw(Model.Description)</p>
    </div>
    
    @if (Model.EmployerContactEmail is not null || Model.EmployerContactPhoneNumber is not null)
    {
        <h4>Контактная информация</h4>
        if (Model.EmployerContactEmail is not null && Model.EmployerContactPhoneNumber is not null)
        {
            <p class="mb-0">Почта: @Model.EmployerContactEmail</p>
        }
        if (Model.EmployerContactEmail is not null && Model.EmployerContactPhoneNumber is null)
        {
            <p>Почта: @Model.EmployerContactEmail</p>
        }

        if (Model.EmployerContactPhoneNumber is not null)
        {
            <p>Телефон: @Model.EmployerContactPhoneNumber</p>
        }
    }
    
    @if (Model.Address is not null)
    {
        <h4>Адрес места работы</h4>
        <p>@Model.VacancyCity, @Model.Address</p>
    }

    @switch (Model.CreatedAt.Month)
    {
        case 1:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day января @Model.CreatedAt.Year года</p>
            break;
        case 2:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day февраля @Model.CreatedAt.Year года</p>
            break;
        case 3:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day марта @Model.CreatedAt.Year года</p>
            break;
        case 4:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day апреля @Model.CreatedAt.Year года</p>
            break;
        case 5:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day мая @Model.CreatedAt.Year года</p>
            break;
        case 6:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day июня @Model.CreatedAt.Year года</p>
            break;
        case 7:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day июля @Model.CreatedAt.Year года</p>
            break;
        case 8:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day августа @Model.CreatedAt.Year года</p>
            break;
        case 9:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day сентября @Model.CreatedAt.Year года</p>
            break;
        case 10:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day октября @Model.CreatedAt.Year года</p>
            break;
        case 11:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day ноября @Model.CreatedAt.Year года</p>
            break;
        case 12:
            <p style="color: gray;">Вакансия опубликована @Model.CreatedAt.Day декабря @Model.CreatedAt.Year года</p>
            break;
    }
</div>

<script src="~/js/vacancy/format-number-displaying-in-p.js"></script>